<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Арт Квартал TORB</title>
<link rel="icon" href="favicon.png" type="image/png" />
<meta name="theme-color" content="#000000" />
<link href="https://fonts.googleapis.com/css2?family=Russo+One&family=Inter:wght@300;400;700&display=swap" rel="stylesheet" />

<style>
:root { --accent:#ffcc00; --line:#333; }

* { box-sizing: border-box; }
html, body { height:100%; }
body{
  margin:0; background:#0d0d0d; color:#fff; font-family:'Inter',sans-serif;
  overflow-x:hidden; -webkit-text-size-adjust:100%;
}

/* ===== HEADER ===== */
header{
  position:sticky; top:0; z-index:1000;
  display:flex; align-items:center; justify-content:space-between;
  padding:12px 20px; border-bottom:1px solid var(--line);
  background:rgba(13,13,13,.85); backdrop-filter:blur(6px);
  gap:16px; flex-wrap:nowrap;
}
.header-left{ display:flex; align-items:center; gap:20px; min-width:0; flex:1 1 auto; }
.logo{ font-family:'Russo One',sans-serif; font-size:2rem; color:#fff; text-decoration:none; white-space:nowrap; }
.logo:hover{ color:var(--accent); }

.socials{ display:flex; align-items:center; gap:10px; }
.icon-link{
  display:inline-flex; align-items:center; justify-content:center;
  width:38px; height:38px; border-radius:50%;
  color:#fff; text-decoration:none; transition: color .2s, background-color .2s, transform .12s;
}
.icon-link:hover{ color:var(--accent); background:rgba(255,204,0,.08); }
.icon-link:active{ transform:scale(.96); }
.icon{
  width:22px; height:22px; display:inline-block; background-color: currentColor;
  -webkit-mask: var(--icon) no-repeat center / contain; mask: var(--icon) no-repeat center / contain;
}
.socials .text-link{ color:#fff; text-decoration:none; font-size:1rem; padding:5px 8px; transition:color .2s; }
.socials .text-link:hover{ color:var(--accent); }
.socials .text-link:visited{ color:#fff; }

.nav-link{
  font:700 1rem/1 'Inter',sans-serif; color:#fff; text-decoration:none; white-space:nowrap; letter-spacing:.2px; transition:color .2s;
}
.nav-link:hover{ color:var(--accent); }
.nav-link[aria-current="page"]{ color:var(--accent); }

.language-switch{ display:flex; align-items:center; gap:12px; white-space:nowrap; }
.language-switch a{ color:#fff; text-decoration:none; font-size:1rem; padding:4px 6px; transition:.2s; }
.language-switch a:hover{ color:var(--accent); }

/* burger + mobile menu */
.burger{
  display:none; align-items:center; justify-content:center;
  width:38px; height:38px; border-radius:8px;
  background:#111; color:#fff; border:1px solid var(--line);
  cursor:pointer; transition:transform .15s, background-color .2s, color .2s;
}
.burger:active{ transform:scale(.96); }
.burger[aria-expanded="true"]{ background:#151515; }

.mobile-menu{
  position: fixed; top: 60px; right:0; left:0;
  background: rgba(13,13,13,.96); backdrop-filter: blur(8px);
  border-top:1px solid var(--line);
  display:flex; flex-direction:column; gap:10px; padding:14px 16px; z-index:1001;
}
.mobile-menu[hidden]{ display:none !important; }
.mobile-menu a{
  color:#fff; text-decoration:none; font:700 1.05rem/1.3 'Inter',sans-serif;
  padding:10px 6px; border-radius:6px; transition: color .2s, background-color .2s;
}
.mobile-menu a:hover{ color:var(--accent); background:rgba(255,204,0,.08); }

/* ===== SLIDER (base) ===== */
.td-wrap{ max-width:1200px; margin:24px auto 12px; padding:0 16px; }
.td-slider{
  position:relative; width:100%; overflow:hidden; border-radius:8px;
  background:#000; border:1px solid #1b1b1b;
}
.td-track{ display:flex; transition:transform .5s ease; will-change:transform; }
.td-slide{ min-width:100%; user-select:none; position:relative; }
.td-slide img{
  width:100%; height:64vh; object-fit:cover; object-position:center; display:block; background:#000;
}

/* arrows */
.td-arrow{
  position:absolute; top:50%; transform:translateY(-50%);
  width:40px; height:40px; border-radius:50%;
  border:1px solid #2a2a2a; background:rgba(15,15,15,.6);
  display:flex; align-items:center; justify-content:center;
  color:#fff; cursor:pointer; transition:background .2s, border-color .2s, transform .08s;
  z-index:5; line-height:1;
}
.td-arrow:hover{ background:rgba(15,15,15,.85); border-color:#3a3a3a; }
.td-arrow:active{ transform:translateY(-50%) scale(.96); }
.td-prev{ left:12px; } .td-next{ right:12px; }

/* dots */
.td-dots{
  position:absolute; left:0; right:0; bottom:10px; display:flex; justify-content:center; gap:8px; z-index:4;
}
.td-dot{
  width:9px; height:9px; border-radius:50%; background:rgba(255,255,255,.35); border:none; cursor:pointer;
  transition:transform .15s, background-color .2s; padding:0;
}
.td-dot[aria-current="true"]{ background:var(--accent); transform:scale(1.15); }

/* click to open */
.td-slide a{ position:absolute; inset:0; }

/* ===== LIGHTBOX ===== */
.lb{
  position:fixed; inset:0; background:rgba(0,0,0,.92);
  display:none; align-items:center; justify-content:center; z-index:1200;
}
.lb.open{ display:flex; }
.lb img{
  max-width:90vw; max-height:86vh; width:auto; height:auto; display:block; border:1px solid #222; border-radius:8px;
}
.lb-close, .lb-prev, .lb-next{
  position:absolute; color:#fff; background:rgba(15,15,15,.6); border:1px solid #2a2a2a;
  width:44px; height:44px; border-radius:50%; display:flex; align-items:center; justify-content:center; cursor:pointer;
  transition:background .2s, border-color .2s, transform .08s; z-index:2;
}
.lb-close{ top:14px; right:14px; }
.lb-prev{ left:14px; top:50%; transform:translateY(-50%); }
.lb-next{ right:14px; top:50%; transform:translateY(-50%); }
.lb-close:hover, .lb-prev:hover, .lb-next:hover{ background:rgba(15,15,15,.85); border-color:#3a3a3a; }
.lb-close:active, .lb-prev:active, .lb-next:active{ transform:scale(.96); }

/* ===== TEXT ===== */
.section{
  max-width:1000px; margin:24px auto 40px; padding:0 16px; line-height:1.7;
}
.section h1{
  margin:14px 0 8px; font-family:'Russo One',sans-serif; font-size:clamp(26px,5vw,40px);
}
.section p{ margin:0 0 12px; font-size:1.05rem; }

.divider{ max-width:1000px; margin:28px auto; padding:0 16px; opacity:.6; border-top:1px solid var(--line); }

/* ===== FOOTER/MOBILE SOCIALS ===== */
.mobile-socials{
  display:none; justify-content:center; flex-wrap:wrap; gap:6px 10px;
  padding:20px; box-sizing:border-box;
}

/* ===== RESPONSIVE ===== */
@media (max-width: 900px){
  header{ display:grid; grid-template-columns:auto 1fr auto; align-items:center; gap:12px; padding:12px 16px; }
  .header-left{ gap:12px; }
  .socials{ display:none !important; } /* соцсети только внизу на мобилке */
  .logo{ font-size:1.6rem; }
  .language-switch{ justify-self:end; }
  .burger{ display:inline-flex; }
  /* десктопные ссылки в шапке скрываем — они есть в мобильном меню */
  .header-left .nav-link{ display:none; }
  .mobile-socials{ display:flex; }
  .td-slide img{ height:52vh; }
}
@media (max-width: 520px){
  .logo{ font-size:1.4rem; }
  .td-slide img{ height:48vh; }
}

/* ===== FULL-WIDTH OVERRIDE (cinematic) ===== */
.td-wrap { max-width: none; margin: 0; padding: 0; }
.td-slider { border: none; border-radius: 0; }
.td-slide img {
  height: 86vh; width: 100%; object-fit: cover; object-position: center;
}
@media (max-width: 900px) { .td-slide img { height: 64vh; } }
@media (max-width: 520px) { .td-slide img { height: 58vh; } }

/* ===== REVERT CONTROL SIZES & PREVENT STRETCH ===== */
.td-arrow{
  width:40px !important;
  height:40px !important;
  font-size: 1rem !important;
  padding:0 !important;
  line-height:1 !important;
  flex: 0 0 auto !important;
}
.td-dots{ bottom:10px !important; }
.td-dot{
  width:9px !important; height:9px !important; border-radius:50% !important;
  flex: 0 0 auto !important; padding:0 !important;
}
.td-dot[aria-current="true"]{ transform: scale(1.15) !important; }
.td-dots, .td-arrow, .td-dot{ align-self: center !important; }
</style>
</head>
<body>

<!-- ===== HEADER ===== -->
<header>
  <div class="header-left">
    <button class="burger" aria-label="Открыть меню" aria-expanded="false" aria-controls="mobile-menu">☰</button>
    <a href="index-ru.html" class="logo">TORB</a>

    <div class="socials" aria-label="Социальные ссылки">
      <a class="icon-link" href="https://www.instagram.com/trbkwsk/" target="_blank" aria-label="Instagram"><span class="icon" style="--icon:url('instagram.svg')"></span></a>
      <a class="icon-link" href="https://www.tiktok.com/@trbkwsk" target="_blank" aria-label="TikTok"><span class="icon" style="--icon:url('tiktok.svg')"></span></a>
      <a class="icon-link" href="https://x.com/trbkwsk?s=21" target="_blank" aria-label="X"><span class="icon" style="--icon:url('x.svg')"></span></a>
      <a class="icon-link" href="https://youtube.com/@trbkwsk" target="_blank" aria-label="YouTube"><span class="icon" style="--icon:url('youtube.svg')"></span></a>
      <a class="icon-link" href="https://t.me/trbkwskalsoknownastorb" target="_blank" aria-label="Telegram"><span class="icon" style="--icon:url('telegram.svg')"></span></a>
      <a href="https://streeet.art/@trbkwsk" target="_blank" class="text-link">STREEET.ART</a>
    </div>

    <a href="torb-district-ru.html" class="nav-link" aria-current="page">Арт Квартал</a>
    <a href="workshops-ru.html" class="nav-link">Мастер Классы</a>
    <a href="sprayfight-ru.html" class="nav-link">СпрэйФайт</a>
  </div>

  <div class="language-switch">
    <a href="torb-district.html">EN</a>
    <a href="torb-district-ru.html" aria-current="page">RU</a>
  </div>
</header>

<!-- Mobile menu -->
<nav id="mobile-menu" class="mobile-menu" hidden>
  <a href="torb-district-ru.html">Арт Квартал</a>
  <a href="workshops-ru.html">Мастер Классы</a>
  <a href="sprayfight-ru.html">СпрэйФайт</a>
</nav>

<!-- ===== SLIDER ===== -->
<div class="td-wrap" aria-label="Слайдер фотографий Арт Квартала">
  <div class="td-slider" id="td-slider">
    <div class="td-track">
      <!-- 11 слайдов -->
      <div class="td-slide"><img src="torb-district1.png"  alt="Арт Квартал TORB — фото 1"  loading="lazy" decoding="async"><a href="torb-district1.png" aria-label="Открыть фото 1"></a></div>
      <div class="td-slide"><img src="torb-district2.png"  alt="Арт Квартал TORB — фото 2"  loading="lazy" decoding="async"><a href="torb-district2.png" aria-label="Открыть фото 2"></a></div>
      <div class="td-slide"><img src="torb-district3.png"  alt="Арт Квартал TORB — фото 3"  loading="lazy" decoding="async"><a href="torb-district3.png" aria-label="Открыть фото 3"></a></div>
      <div class="td-slide"><img src="torb-district4.png"  alt="Арт Квартал TORB — фото 4"  loading="lazy" decoding="async"><a href="torb-district4.png" aria-label="Открыть фото 4"></a></div>
      <div class="td-slide"><img src="torb-district5.png"  alt="Арт Квартал TORB — фото 5"  loading="lazy" decoding="async"><a href="torb-district5.png" aria-label="Открыть фото 5"></a></div>
      <div class="td-slide"><img src="torb-district6.png"  alt="Арт Квартал TORB — фото 6"  loading="lazy" decoding="async"><a href="torb-district6.png" aria-label="Открыть фото 6"></a></div>
      <div class="td-slide"><img src="torb-district7.png"  alt="Арт Квартал TORB — фото 7"  loading="lazy" decoding="async"><a href="torb-district7.png" aria-label="Открыть фото 7"></a></div>
      <div class="td-slide"><img src="torb-district8.png"  alt="Арт Квартал TORB — фото 8"  loading="lazy" decoding="async"><a href="torb-district8.png" aria-label="Открыть фото 8"></a></div>
      <div class="td-slide"><img src="torb-district9.png"  alt="Арт Квартал TORB — фото 9"  loading="lazy" decoding="async"><a href="torb-district9.png" aria-label="Открыть фото 9"></a></div>
      <div class="td-slide"><img src="torb-district10.png" alt="Арт Квартал TORB — фото 10" loading="lazy" decoding="async"><a href="torb-district10.png" aria-label="Открыть фото 10"></a></div>
      <div class="td-slide"><img src="torb-district11.png" alt="Арт Квартал TORB — фото 11" loading="lazy" decoding="async"><a href="torb-district11.png" aria-label="Открыть фото 11"></a></div>
    </div>

    <button class="td-arrow td-prev" aria-label="Предыдущая">‹</button>
    <button class="td-arrow td-next" aria-label="Следующая">›</button>
    <div class="td-dots" role="tablist" aria-label="Навигация по слайдам"></div>
  </div>
</div>

<!-- ===== DESCRIPTION ===== -->
<div class="section">
  <h1>Арт Квартал TORB</h1>
  <p>Задумка — превратить улицу в центре города в пространство, где граффити стало живым облагораживанием стен и заборов. Проект вырос из одной работы и превратился в открытую галерею.</p>
  <p>Главные персонажи — утки, поэтому место называют «Утиные истории». Квартал меняется сезон за сезоном: новые буквы, новые герои, новые слои краски.</p>
</div>

<div class="divider"></div>

<!-- ===== MOBILE SOCIALS ===== -->
<div class="mobile-socials" aria-label="Социальные ссылки">
  <a class="icon-link" href="https://www.instagram.com/trbkwsk/" target="_blank" aria-label="Instagram"><span class="icon" style="--icon:url('instagram.svg')"></span></a>
  <a class="icon-link" href="https://www.tiktok.com/@trbkwsk" target="_blank" aria-label="TikTok"><span class="icon" style="--icon:url('tiktok.svg')"></span></a>
  <a class="icon-link" href="https://x.com/trbkwsk?s=21" target="_blank" aria-label="X"><span class="icon" style="--icon:url('x.svg')"></span></a>
  <a class="icon-link" href="https://youtube.com/@trbkwsk" target="_blank" aria-label="YouTube"><span class="icon" style="--icon:url('youtube.svg')"></span></a>
  <a class="icon-link" href="https://t.me/trbkwskalsoknownastorb" target="_blank" aria-label="Telegram"><span class="icon" style="--icon:url('telegram.svg')"></span></a>
  <a href="https://streeet.art/@trbkwsk" target="_blank" class="text-link">STREEET.ART</a>
</div>

<!-- ===== LIGHTBOX ===== -->
<div class="lb" id="lb" aria-hidden="true">
  <button class="lb-close" id="lbClose" aria-label="Закрыть">✕</button>
  <button class="lb-prev"  id="lbPrev"  aria-label="Предыдущее">‹</button>
  <img id="lbImg" src="" alt="Просмотр фото Арт Квартала" />
  <button class="lb-next"  id="lbNext"  aria-label="Следующее">›</button>
</div>

<script>
/* burger */
const burger = document.querySelector('.burger');
const mobileMenu = document.getElementById('mobile-menu');
if (burger && mobileMenu) {
  burger.addEventListener('click', () => {
    const open = burger.getAttribute('aria-expanded') === 'true';
    burger.setAttribute('aria-expanded', String(!open));
    mobileMenu.hidden = open;
    document.body.style.overflow = open ? '' : 'hidden';
  });
  mobileMenu.addEventListener('click', (e) => {
    if (e.target.tagName === 'A') {
      burger.setAttribute('aria-expanded', 'false');
      mobileMenu.hidden = true;
      document.body.style.overflow = '';
    }
  });
}

/* slider */
const slider = document.getElementById('td-slider');
const track  = slider.querySelector('.td-track');
const slides = Array.from(track.children);
const prevBtn = slider.querySelector('.td-prev');
const nextBtn = slider.querySelector('.td-next');
const dotsWrap = slider.querySelector('.td-dots');

let idx = 0;
let autoTimer = null;
const AUTOPLAY_MS = 3500;

/* dots */
slides.forEach((_, i) => {
  const b = document.createElement('button');
  b.className = 'td-dot';
  b.setAttribute('role','tab');
  b.setAttribute('aria-label', `Слайд ${i+1}`);
  b.addEventListener('click', () => goTo(i, true));
  dotsWrap.appendChild(b);
});
const dots = Array.from(dotsWrap.children);

function updateUI(){
  const offset = -idx * slider.clientWidth;
  track.style.transform = `translateX(${offset}px)`;
  dots.forEach((d, i) => d.setAttribute('aria-current', i===idx ? 'true' : 'false'));
}
function goTo(n, user=false){
  idx = (n + slides.length) % slides.length;
  updateUI();
  if (user) restartAutoplay();
}
function next(){ goTo(idx+1); }
function prev(){ goTo(idx-1); }

function startAutoplay(){
  stopAutoplay();
  autoTimer = setInterval(next, AUTOPLAY_MS);
}
function stopAutoplay(){ if (autoTimer) clearInterval(autoTimer); }
function restartAutoplay(){ stopAutoplay(); startAutoplay(); }

/* keep position on resize */
window.addEventListener('resize', updateUI);

/* hover pause (desktop) */
slider.addEventListener('mouseenter', stopAutoplay);
slider.addEventListener('mouseleave', startAutoplay);

/* arrows */
prevBtn.addEventListener('click', () => prev());
nextBtn.addEventListener('click', () => next());

/* swipe */
let touchStartX = 0, touchEndX = 0;
slider.addEventListener('touchstart', e => { touchStartX = e.changedTouches[0].clientX; }, {passive:true});
slider.addEventListener('touchend',   e => {
  touchEndX = e.changedTouches[0].clientX;
  const dx = touchEndX - touchStartX;
  if (Math.abs(dx) > 40) (dx < 0 ? next() : prev());
}, {passive:true});

/* click to open lightbox */
slides.forEach((s, i) => {
  const link = s.querySelector('a');
  link.addEventListener('click', (e) => {
    e.preventDefault();
    openLb(i);
  });
});

/* init */
updateUI();
startAutoplay();

/* lightbox */
const lb = document.getElementById('lb');
const lbImg = document.getElementById('lbImg');
const lbClose = document.getElementById('lbClose');
const lbPrev = document.getElementById('lbPrev');
const lbNext = document.getElementById('lbNext');
let lbIdx = 0;

function openLb(i){
  lbIdx = i;
  lbImg.src = slides[lbIdx].querySelector('img').src;
  lb.classList.add('open');
  lb.setAttribute('aria-hidden','false');
  document.body.style.overflow = 'hidden';
  stopAutoplay();
}
function closeLb(){
  lb.classList.remove('open');
  lb.setAttribute('aria-hidden','true');
  document.body.style.overflow = '';
  startAutoplay();
}
function lbGo(n){
  lbIdx = (n + slides.length) % slides.length;
  lbImg.src = slides[lbIdx].querySelector('img').src;
}

lbClose.addEventListener('click', closeLb);
lbPrev.addEventListener('click', () => lbGo(lbIdx-1));
lbNext.addEventListener('click', () => lbGo(lbIdx+1));
lb.addEventListener('click', (e) => { if (e.target === lb) closeLb(); });

/* keyboard */
window.addEventListener('keydown', (e) => {
  if (!lb.classList.contains('open')) return;
  if (e.key === 'Escape') closeLb();
  if (e.key === 'ArrowLeft') lbGo(lbIdx-1);
  if (e.key === 'ArrowRight') lbGo(lbIdx+1);
});
</script>
</body>
</html>
